@import "tailwindcss";
@import "@duct-ui/components/layout/drawer.css";

@plugin "daisyui" {
  themes: fractal --default;
  root: "#app";
}

@plugin "daisyui/theme" {
  name: "fractal";
  default: true;
  color-scheme: dark;

  /* Primary colors - cosmic purple */
  --color-primary: oklch(55% 0.18 280);
  --color-primary-content: oklch(95% 0.02 280);

  /* Secondary - deep blue */
  --color-secondary: oklch(45% 0.15 240);
  --color-secondary-content: oklch(95% 0.02 240);

  /* Accent - golden yellow for highlights */
  --color-accent: oklch(75% 0.15 65);
  --color-accent-content: oklch(15% 0.02 65);

  /* Neutral tones */
  --color-neutral: oklch(75% 0.02 260);
  --color-neutral-content: oklch(15% 0.02 260);

  /* Base colors - space theme */
  --color-base-100: oklch(8% 0.02 260);   /* #0b0f14 equivalent */
  --color-base-200: oklch(12% 0.03 260);  /* Slightly lighter */
  --color-base-300: oklch(18% 0.04 260);  /* Even lighter */
  --color-base-content: oklch(90% 0.02 260); /* Light text */

  /* Semantic colors */
  --color-info: oklch(70% 0.15 220);
  --color-info-content: oklch(15% 0.02 220);

  --color-success: oklch(65% 0.15 145);
  --color-success-content: oklch(15% 0.02 145);

  --color-warning: oklch(75% 0.15 65);
  --color-warning-content: oklch(15% 0.02 65);

  --color-error: oklch(65% 0.18 25);
  --color-error-content: oklch(95% 0.02 25);

  /* Custom properties */
  --radius-selector: 0.75rem;
  --border: 1px;
}

@source inline('relative');
@source inline('absolute');
@source inline('fixed');
@source inline('block');
@source inline('hidden');
@source inline('flex');
@source inline('z-10');
@source inline('z-20');
@source inline('z-30');

/* Fractal Web Specific Styles */
@layer base {
  html, body {
    height: 100%;
    margin: 0;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  }

  /* Force our custom theme */
  [data-theme="fractal"] {
    background-color: #0b0f14;
    color: #e5e7eb;
  }

  /* Ensure the app container inherits theme colors */
  #app {
    background-color: inherit;
    color: inherit;
    min-height: 100vh;
  }
}

@layer components {
  /* Sidebar styles */
  .sidebar-container {
    @apply fixed top-2 left-2 bottom-2 w-[480px] z-10 backdrop-blur border border-gray-700 rounded-xl p-3 overflow-auto shadow-2xl transition-transform duration-300;
    background: rgba(20, 26, 33, 0.96);
  }

  .sidebar-hidden {
    @apply -translate-x-[505px];
  }

  /* SVG Graph styles */
  .graph-ring {
    @apply fill-none stroke-white/10 stroke-[1.5];
  }

  .graph-edge {
    stroke: #9ca3af;
    stroke-opacity: 0.50;
    stroke-width: 1.2;
    cursor: pointer;
  }

  .graph-edge-cross {
    stroke: #c084fc;
    stroke-opacity: 0.70;
    stroke-width: 1.2;
    stroke-dasharray: 3 3;
  }

  .graph-edge-wave {
    stroke: #60a5fa;
    stroke-opacity: 0.65;
    stroke-width: 1.2;
    stroke-dasharray: 1 4;
  }

  .graph-edge-spine {
    stroke: #fcd34d;
    stroke-opacity: 0.95;
    stroke-width: 2.2;
  }

  .graph-node {
    @apply cursor-pointer;
    stroke: #0b0f14;
    stroke-width: 1.2;
  }

  .graph-label {
    @apply fill-gray-200 text-xs pointer-events-none;
    text-shadow: 0 0 3px rgba(0,0,0,0.6);
  }

  .graph-label-highlighted {
    @apply font-bold underline;
  }

  /* Custom component styles */
  .collapsible-summary {
    @apply list-none cursor-pointer p-3 font-semibold text-gray-200 flex items-center gap-2 hover:bg-gray-700/50 rounded-t-lg;
  }

  /* Select component enhancements */
  .select-button {
    @apply cursor-pointer;
  }

  .select-button-arrow {
    @apply text-gray-400 ml-2;
  }

  .select-menu .select-item a {
    @apply flex items-center px-3 py-2 hover:bg-gray-700 rounded-lg;
  }

  .select-menu .select-item.disabled a {
    @apply opacity-50 cursor-not-allowed;
  }

  .select-item-content {
    @apply flex-1;
  }

  .collapsible-chevron {
    @apply inline-block transform rotate-0 transition-transform duration-200 opacity-70 text-gray-400;
  }

  .collapsible-open .collapsible-chevron {
    @apply rotate-90;
  }

  /* Legend shapes */
  .legend-dot {
    @apply w-3 h-3 rounded-full border border-gray-500;
  }

  .legend-hex {
    @apply w-3 h-3 border border-gray-500;
    clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
  }

  .legend-wave {
    @apply w-4 h-4 border border-dashed border-blue-400 rounded-sm;
  }
}

@layer utilities {
  /* Animation utilities */
  .animate-force-simulation {
    animation: force-simulation 60s linear infinite;
  }

  /* Custom scrollbars */
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-gray-800 rounded;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-gray-600 rounded hover:bg-gray-500;
  }
}

/* Force simulation keyframes */
@keyframes force-simulation {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}